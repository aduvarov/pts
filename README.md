## 10.4. Фабрика декораторов

#### Цели лекции:

1.  Понять, как работает фабрика декораторов.
2.  Узнать, как реализовать динамическую установку параметров декоратора.
3.  Изучить порядок вызова декораторов и его важность.

#### Фабрика декораторов

-   **Определение**: Фабрика декораторов - функция, возвращающая новые декораторы, в зависимости от передаваемых параметров.
-   **Пример**: Рассмотрим декоратор `setUsers`, который устанавливает число пользователей. Вместо зашитого числа пользователей (например, 0), создаем фабрику, которая позволит установить любое число.
    -   **Реализация**: Структура фабрики это функция, принимающая параметр (число пользователей) и возвращающая новый декоратор с заданным количеством пользователей.
    -   **Пример вызова**: `setUsers(2)` создаст декоратор для установки двух пользователей.

#### Динамическая установка параметров

-   Фабрики декораторов позволяют динамически управлять параметрами декораторов, делая код более гибким и повторно используемым.

#### Порядок вызова декораторов

-   **Инициализация**: Декораторы инициализируются в том порядке, в котором они указаны.
-   **Исполнение**: Во время исполнения порядок вызова обратный – последний добавленный декоратор выполняется первым.
-   **Важность порядка**: Порядок имеет значение при сложной логике декораторов, особенно при обработке ошибок и других специфических случаях.
